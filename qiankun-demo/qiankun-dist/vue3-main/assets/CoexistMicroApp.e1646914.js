import{w as Z,t as ee,d as q,u as ne,r as y,g as k,c as ae,_ as d,a,C as te,i as oe,b as se,e as le,v as ce,f as L,T as ie,P as m,h as ue,I as re,j as pe,E as de,k as ve,l as fe,m as _e,n as me,o as ye,p as Ce,q as j,s as ge,x as R,y as U,z as xe,A as he,B as A,D as b,F as p,G as z,H as B,J as Ae,K as be,L as G,M as Ee}from"./index.24f350f6.js";import{B as we,_ as Ie}from"./index.639dc9f2.js";import{_ as Fe,a as ke}from"./index.e7318ac2.js";import{c as Be}from"./index.168cd1e3.js";import"./index.6f45e806.js";var Se={success:ue,info:re,error:pe,warning:de},Pe={success:ve,info:fe,error:_e,warning:me},Te=ee("success","info","warning","error"),De=function(){return{type:m.oneOf(Te),closable:{type:Boolean,default:void 0},closeText:m.any,message:m.any,description:m.any,afterClose:Function,showIcon:{type:Boolean,default:void 0},prefixCls:String,banner:{type:Boolean,default:void 0},icon:m.any,closeIcon:m.any,onClose:Function}},Me=q({name:"AAlert",inheritAttrs:!1,props:De(),setup:function(n,l){var o=l.slots,f=l.emit,_=l.attrs,C=l.expose,t=ne("alert",n),c=t.prefixCls,S=t.direction,i=y(!1),g=y(!1),E=y(),P=function(u){u.preventDefault();var r=E.value;r.style.height="".concat(r.offsetHeight,"px"),r.style.height="".concat(r.offsetHeight,"px"),i.value=!0,f("close",u)},M=function(){var u;i.value=!1,g.value=!0,(u=n.afterClose)===null||u===void 0||u.call(n)};C({animationEnd:M});var K=y({});return function(){var s,u,r=n.banner,N=n.closeIcon,O=N===void 0?(u=o.closeIcon)===null||u===void 0?void 0:u.call(o):N,T=n.closable,x=n.type,h=n.showIcon,D=k(o,n,"closeText"),w=k(o,n,"description"),V=k(o,n,"message"),I=k(o,n,"icon");h=r&&h===void 0?!0:h,x=r&&x===void 0?"warning":x||"info";var $=(w?Pe:Se)[x]||null;D&&(T=!0);var e=c.value,Q=ae(e,(s={},d(s,"".concat(e,"-").concat(x),!0),d(s,"".concat(e,"-closing"),i.value),d(s,"".concat(e,"-with-description"),!!w),d(s,"".concat(e,"-no-icon"),!h),d(s,"".concat(e,"-banner"),!!r),d(s,"".concat(e,"-closable"),T),d(s,"".concat(e,"-rtl"),S.value==="rtl"),s)),W=T?a("button",{type:"button",onClick:P,class:"".concat(e,"-close-icon"),tabindex:0},[D?a("span",{class:"".concat(e,"-close-text")},[D]):O===void 0?a(te,null,null):O]):null,X=I&&(oe(I)?Be(I,{class:"".concat(e,"-icon")}):a("span",{class:"".concat(e,"-icon")},[I]))||a($,{class:"".concat(e,"-icon")},null),Y=se("".concat(e,"-motion"),{appear:!1,css:!0,onAfterLeave:M,onBeforeLeave:function(F){F.style.maxHeight="".concat(F.offsetHeight,"px")},onLeave:function(F){F.style.maxHeight="0px"}});return g.value?null:a(ie,Y,{default:function(){return[le(a("div",L(L({role:"alert"},_),{},{style:[_.style,K.value],class:[_.class,Q],"data-show":!i.value,ref:E}),[h?X:null,a("div",{class:"".concat(e,"-content")},[V?a("div",{class:"".concat(e,"-message")},[V]):null,w?a("div",{class:"".concat(e,"-description")},[w]):null]),W]),[[ce,!i.value]])]}})}}});const Ne=Z(Me);const J=v=>(Ae("data-v-c0b9ba62"),v=v(),be(),v),Oe=B("\u5378\u8F7DVue2\u5E94\u7528"),Ve=B("\u52A0\u8F7DVue2\u5E94\u7528"),He=J(()=>G("div",{id:"app-one"},null,-1)),Le=B("\u5378\u8F7DReact18\u5E94\u7528"),je=B("\u52A0\u8F7DReact18\u5E94\u7528"),Re=J(()=>G("div",{id:"app-two"},null,-1)),Ue={name:"CoexistMicroApp"},ze=q({...Ue,setup(v){const{user:n}=ye();let l=y(null),o=y(null);Ce(()=>{f("vue2"),f("react18")});function f(t){t==="vue2"?(l.value=j({name:"vue2App",entry:ge,container:"#app-one",props:{path:"/communication-test"}},{sandbox:{experimentalStyleIsolation:!0},singular:!1}),l.value.mountPromise.then(()=>{R(U(n))})):t==="react18"&&(o.value=j({name:"reactApp",entry:xe,container:"#app-two",props:{path:"/reactApp/communication-test"}},{sandbox:{experimentalStyleIsolation:!0},singular:!1}),o.value.mountPromise.then(()=>{R(U(n))}))}async function _(t){await C(t==="vue2"?l:o)}async function C(t){t.value&&t.value.getStatus()==="MOUNTED"&&await t.value.unmount(),t.value=null}return he(async()=>{await Promise.all([C(l),C(o)])}),(t,c)=>{const S=Ne,i=we,g=Fe,E=ke,P=Ie;return A(),b(P,{direction:"vertical",size:40,class:"box"},{default:p(()=>[a(S,{message:"\u5DE6\u4FA7\u5E94\u7528\u4E3AVue2\u5B50\u5E94\u7528\uFF0C\u53F3\u4FA7\u5E94\u7528\u4E3AReact18\u5B50\u5E94\u7528\u3002",type:"success"}),a(E,{gutter:20},{default:p(()=>[a(g,{span:12},{default:p(()=>[z(l)?(A(),b(i,{key:0,type:"primary",danger:"",onClick:c[0]||(c[0]=()=>_("vue2"))},{default:p(()=>[Oe]),_:1})):(A(),b(i,{key:1,type:"primary",onClick:c[1]||(c[1]=()=>f("vue2"))},{default:p(()=>[Ve]),_:1})),He]),_:1}),a(g,{span:12},{default:p(()=>[z(o)?(A(),b(i,{key:0,type:"primary",danger:"",onClick:c[2]||(c[2]=()=>_("react18"))},{default:p(()=>[Le]),_:1})):(A(),b(i,{key:1,type:"primary",onClick:c[3]||(c[3]=()=>f("react18"))},{default:p(()=>[je]),_:1})),Re]),_:1})]),_:1})]),_:1})}}});const Qe=Ee(ze,[["__scopeId","data-v-c0b9ba62"]]);export{Qe as default};
